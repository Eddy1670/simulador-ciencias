<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulador de Movimientos</title>
  <!-- Cargamos Chart.js para los gr√°ficos din√°micos -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* ===== Estilos Globales ===== */
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #e8f5e9);
      padding: 20px;
    }
    h1 { text-align:center; margin-bottom:20px; color:#0d47a1; }

    /* ===== Selector de movimiento ===== */
    #movement-select {
      display: block;
      margin: 0 auto 30px;
      padding: 10px;
      font-size: 1em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    /* ===== Contenedor principal: teor√≠a + simulaci√≥n ===== */
    .wrapper {
      display: flex;
      gap: 20px;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .explicacion, .panel {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      flex: 1 1 300px;
      max-width: 500px;
    }

    /* ===== Bloque de teor√≠a ===== */
    .explicacion h2 {
      color: #006064;
      margin-bottom:10px;
    }
    .explicacion p, .explicacion ul {
      margin-bottom:10px;
      line-height:1.4;
    }
    .explicacion ul { padding-left:20px; }

    /* ===== Bloque de simulaci√≥n ===== */
    .panel h2 {
      color: #0d47a1;
      text-align:center;
      margin-bottom:15px;
    }
    .panel label {
      display:block;
      margin:10px 0 5px;
      font-weight:bold;
      color:#004d40;
    }
    .panel input {
      width:100%;
      padding:8px;
      border:1px solid #ccc;
      border-radius:4px;
    }
    .panel button {
      margin-top:15px;
      width:100%;
      padding:10px;
      background:#0288d1;
      color:white;
      border:none;
      border-radius:6px;
      font-size:16px;
      cursor:pointer;
    }
    .panel button:hover { background:#0277bd; }
    #resultado {
      margin-top:15px;
      font-size:1.2em;
      color:#2e7d32;
      text-align:center;
    }
    .simulation-area {
      position: relative;
      width:100%; height:80px;
      background:#f1f8e9;
      border:2px solid #c5e1a5;
      border-radius:8px;
      overflow:hidden;
      margin:20px 0;
    }
    #mobile {
      position:absolute;
      top:50%; left:0;
      transform: translateY(-50%);
      font-size:48px;
      transition: left linear;
    }
    #chart-container {
      width:100%;
      margin-top:20px;
    }
    .ejercicio {
      background:#fff3e0;
      border:1px solid #ffe0b2;
      padding:15px;
      border-radius:6px;
      margin-top:20px;
      font-size:1em;
      color:#bf360c;
    }

    /* ===== Responsive ===== */
    @media (max-width:600px) {
      #mobile { font-size:36px; }
      .wrapper { flex-direction:column; }
    }
  </style>
</head>
<body>
  <h1>Simulador de Movimientos</h1>

  <!-- Selector de tipo de movimiento -->
  <select id="movement-select">
    <option value="mru">Movimiento Rectil√≠neo Uniforme</option>
    <option value="mruv">Movimiento Rectil√≠neo Uniformemente Variado</option>
    <option value="mcu">Movimiento Circular Uniforme</option>
    <option value="mcuv">Movimiento Circular Uniformemente Variado</option>
    <option value="parabolico">Movimiento Parab√≥lico</option>
    <option value="mas">Movimiento Arm√≥nico Simple</option>
    <option value="periodico">Movimiento Peri√≥dico</option>
    <option value="oscilatorio">Movimiento Oscilatorio</option>
  </select>

  <div class="wrapper">
    <!-- ===== Teor√≠a ===== -->
    <div class="explicacion" id="theory">
      <!-- Se rellenar√° din√°micamente -->
    </div>

    <!-- ===== Simulaci√≥n y Gr√°fico ===== -->
    <div class="panel">
      <h2 id="panel-title"></h2>

      <!-- Controles de entrada -->
      <div id="controls"></div>

      <!-- Resultado textual -->
      <p id="resultado"></p>

      <!-- Animaci√≥n de m√≥vil (solo MRU) -->
      <div class="simulation-area" id="sim-area">
        <div id="mobile">üöó</div>
      </div>

      <!-- Gr√°fico din√°mico -->
      <div id="chart-container">
        <canvas id="movementChart"></canvas>
      </div>

      <!-- Ejercicio para comprobar -->
      <div class="ejercicio" id="exercise">
        <!-- Se rellenar√° din√°micamente -->
      </div>
    </div>
  </div>

  <script>
  // ===== Variables globales =====
  let chart;

  // ===== Funci√≥n para cargar cada m√≥dulo =====
  function loadModule(type) {
    const theory = document.getElementById('theory');
    const panelTitle = document.getElementById('panel-title');
    const controls = document.getElementById('controls');
    const exercise = document.getElementById('exercise');
    const simArea = document.getElementById('sim-area');
    const mobile = document.getElementById('mobile');

    // Limpiar secciones
    theory.innerHTML = '';
    controls.innerHTML = '';
    exercise.innerHTML = '';
    document.getElementById('resultado').innerText = '';
    mobile.style.left = '0px';
    simArea.style.display = 'none';

    // ===== MRU =====
    if (type === 'mru') {
      panelTitle.innerText = 'Movimiento Rectil√≠neo Uniforme';
      theory.innerHTML = `
        <h2>¬øQu√© es el MRU?</h2>
        <p>
          Cuando un m√≥vil se desplaza a la misma velocidad, siempre recorrer√°
          espacios iguales en intervalos de tiempo iguales.
          T√©cnicamente, su aceleraci√≥n es cero y su velocidad permanece constante.
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>d = v √ó t</strong></p>
        <ul>
          <li><strong>d</strong>: distancia (m)</li>
          <li><strong>v</strong>: velocidad (m/s)</li>
          <li><strong>t</strong>: tiempo (s)</li>
        </ul>
      `;
      controls.innerHTML = `
        <label for="vel">Velocidad (m/s):</label>
        <input type="number" id="vel" placeholder="p.ej. 5" />
        <label for="tiempo">Tiempo (s):</label>
        <input type="number" id="tiempo" placeholder="p.ej. 4" />
        <button onclick="simulateMRU()">Simular MRU</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio MRU</h2>
        <p>
          Un ciclista mantiene 6 m/s durante 8 s. ¬øQu√© distancia recorre?
          Usa el simulador para comprobar tu respuesta.
        </p>
      `;
      // Mostrar √°rea de animaci√≥n
      simArea.style.display = 'block';
    }

    // ===== MRUV =====
    if (type === 'mruv') {
      panelTitle.innerText = 'Movimiento Rectil√≠neo Uniformemente Variado';
      theory.innerHTML = `
        <h2>¬øQu√© es el MRUV?</h2>
        <p>
          Aqu√≠ la velocidad cambia de forma constante: cada segundo
          la velocidad aumenta (o disminuye) en la misma cantidad.
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>d = v‚ÇÄ¬∑t + ¬Ω¬∑a¬∑t¬≤</strong></p>
        <ul>
          <li><strong>v‚ÇÄ</strong>: velocidad inicial (m/s)</li>
          <li><strong>a</strong>: aceleraci√≥n constante (m/s¬≤)</li>
          <li><strong>t</strong>: tiempo (s)</li>
        </ul>
      `;
      controls.innerHTML = `
        <label for="v0">Velocidad inicial v‚ÇÄ (m/s):</label>
        <input type="number" id="v0" placeholder="p.ej. 0" />
        <label for="a">Aceleraci√≥n a (m/s¬≤):</label>
        <input type="number" id="a" placeholder="p.ej. 2" />
        <label for="t2">Tiempo (s):</label>
        <input type="number" id="t2" placeholder="p.ej. 5" />
        <button onclick="simulateMRUV()">Simular MRUV</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio MRUV</h2>
        <p>
          Un coche parte desde reposo con aceleraci√≥n 3 m/s¬≤ durante 4 s.
          ¬øQu√© distancia recorre? Compru√©balo en el simulador.
        </p>
      `;
    }

    // ===== MCU =====
    if (type === 'mcu') {
      panelTitle.innerText = 'Movimiento Circular Uniforme';
      theory.innerHTML = `
        <h2>¬øQu√© es el MCU?</h2>
        <p>
          Un m√≥vil recorre una trayectoria circular a velocidad angular constante.
          El m√≥dulo de su velocidad permanece fijo, cambia solo la direcci√≥n.
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>Œ∏ = œâ¬∑t</strong></p>
        <ul>
          <li><strong>Œ∏</strong>: √°ngulo (rad)</li>
          <li><strong>œâ</strong>: velocidad angular (rad/s)</li>
        </ul>
      `;
      controls.innerHTML = `
        <label for="omega">Velocidad angular œâ (rad/s):</label>
        <input type="number" id="omega" placeholder="p.ej. 1" />
        <label for="t3">Tiempo (s):</label>
        <input type="number" id="t3" placeholder="p.ej. 10" />
        <button onclick="simulateMCU()">Simular MCU</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio MCU</h2>
        <p>
          Un objeto gira a 0.5 rad/s. ¬øCu√°l es el √°ngulo tras 12 s?
        </p>
      `;
    }

    // ===== MCUV =====
    if (type === 'mcuv') {
      panelTitle.innerText = 'Movimiento Circular Uniformemente Variado';
      theory.innerHTML = `
        <h2>¬øQu√© es el MCUV?</h2>
        <p>
          La velocidad angular cambia uniformemente: acelera (o desacelera) 
          a raz√≥n constante.
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>Œ∏ = œâ‚ÇÄ¬∑t + ¬Ω¬∑Œ±¬∑t¬≤</strong></p>
        <ul>
          <li><strong>œâ‚ÇÄ</strong>: velocidad angular inicial (rad/s)</li>
          <li><strong>Œ±</strong>: aceleraci√≥n angular (rad/s¬≤)</li>
          <li><strong>t</strong>: tiempo (s)</li>
        </ul>
      `;
      controls.innerHTML = `
        <label for="omega0">œâ‚ÇÄ (rad/s):</label>
        <input type="number" id="omega0" placeholder="p.ej. 0" />
        <label for="alpha">Œ± (rad/s¬≤):</label>
        <input type="number" id="alpha" placeholder="p.ej. 0.2" />
        <label for="t4">Tiempo (s):</label>
        <input type="number" id="t4" placeholder="p.ej. 8" />
        <button onclick="simulateMCUV()">Simular MCUV</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio MCUV</h2>
        <p>
          Un disco parte desde reposo con Œ± = 0.1 rad/s¬≤ durante 20 s.
          ¬øQu√© √°ngulo gira? Compru√©balo.
        </p>
      `;
    }

    // ===== Movimiento Parab√≥lico =====
    if (type === 'parabolico') {
      panelTitle.innerText = 'Movimiento Parab√≥lico';
      theory.innerHTML = `
        <h2>¬øQu√© es el Movimiento Parab√≥lico?</h2>
        <p>
          Trayectoria de un proyectil bajo la acci√≥n de la gravedad.
          El movimiento horizontal es MRU y el vertical MRUV.
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>
          x = v‚ÇÄ¬∑cos(Œ∏)¬∑t ;  y = v‚ÇÄ¬∑sin(Œ∏)¬∑t ‚Äì ¬Ω¬∑g¬∑t¬≤
        </strong></p>
        <ul>
          <li><strong>v‚ÇÄ</strong>: velocidad inicial (m/s)</li>
          <li><strong>Œ∏</strong>: √°ngulo de lanzamiento</li>
          <li><strong>g</strong>: 9.81 m/s¬≤</li>
        </ul>
      `;
      controls.innerHTML = `
        <label for="v5">v‚ÇÄ (m/s):</label>
        <input type="number" id="v5" placeholder="p.ej. 20" />
        <label for="theta">√Ångulo Œ∏ (¬∞):</label>
        <input type="number" id="theta" placeholder="p.ej. 45" />
        <label for="t5">Tiempo (s):</label>
        <input type="number" id="t5" placeholder="p.ej. 2" />
        <button onclick="simulateParabolico()">Simular Parab√≥lico</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio Parab√≥lico</h2>
        <p>
          Lanzas un objeto a 15 m/s con Œ∏ = 60¬∞. ¬øD√≥nde est√° a los 2 s?
        </p>
      `;
    }

    // ===== Movimiento Arm√≥nico Simple =====
    if (type === 'mas') {
      panelTitle.innerText = 'Movimiento Arm√≥nico Simple';
      theory.innerHTML = `
        <h2>¬øQu√© es el MAS?</h2>
        <p>
          Oscilaci√≥n donde la fuerza restauradora es proporcional al
          desplazamiento (como un molinete o un p√©ndulo peque√±o).
        </p>
        <p style="text-align:center;font-size:1.2em;"><strong>
          x = A¬∑cos(œâ¬∑t + œÜ)
        </strong></p>
      `;
      controls.innerHTML = `
        <label for="A">Amplitud A (m):</label>
        <input type="number" id="A" placeholder="p.ej. 1" />
        <label for="omega2">œâ (rad/s):</label>
        <input type="number" id="omega2" placeholder="p.ej. 2" />
        <label for="t6">Tiempo (s):</label>
        <input type="number" id="t6" placeholder="p.ej. 1" />
        <button onclick="simulateMAS()">Simular MAS</button>
      `;
      exercise.innerHTML = `
        <h2>Ejercicio MAS</h2>
        <p>
          Un objeto oscila con A = 2 m y œâ = 1.5 rad/s.
          ¬øCu√°l es su posici√≥n a los 3 s?
        </p>
      `;
    }

    // ===== Movimiento Peri√≥dico =====
    if (type === 'periodico') {
      panelTitle.innerText = 'Movimiento Peri√≥dico';
      theory.innerHTML = `
        <h2>¬øQu√© es el Movimiento Peri√≥dico?</h2>
        <p>
          Repite su trayectoria en intervalos de tiempo iguales
          (ej. p√©ndulo, masas acopladas).
        </p>
      `;
      controls.innerHTML = `<p style="text-align:center;">Este movimiento coincide con el MAS.</p>`;
      exercise.innerHTML = `
        <h2>Ejercicio Peri√≥dico</h2>
        <p>
          Describe un ejemplo cotidiano de Movimiento Peri√≥dico.
        </p>
      `;
    }

    // ===== Movimiento Oscilatorio =====
    if (type === 'oscilatorio') {
      panelTitle.innerText = 'Movimiento Oscilatorio';
      theory.innerHTML = `
        <h2>¬øQu√© es el Movimiento Oscilatorio?</h2>
        <p>
          Es un subtipo de MAS donde el objeto cruza su punto de equilibrio
          de forma repetida.
        </p>
      `;
      controls.innerHTML = `<p style="text-align:center;">Ver MAS para simular.</p>`;
      exercise.innerHTML = `
        <h2>Ejercicio Oscilatorio</h2>
        <p>
          Menciona un dispositivo que utilice Movimiento Oscilatorio.
        </p>
      `;
    }

    // ===== Crear o actualizar gr√°fico gen√©rico =====
    createChart(type);
  }

  // ===== Funciones de simulaci√≥n espec√≠ficas =====
  function simulateMRU() {
    const v = +document.getElementById('vel').value;
    const t = +document.getElementById('tiempo').value;
    const d = v*t;
    document.getElementById('resultado').innerText =
      isNaN(d)? '‚ö†Ô∏è Valores inv√°lidos.' : `Distancia = ${d.toFixed(2)} m`;
    animateMobile(d, t);
    updateChart([0, t], [0, d], 'Distancia (m)');
  }
  function simulateMRUV() {
    const v0 = +document.getElementById('v0').value;
    const a  = +document.getElementById('a').value;
    const t  = +document.getElementById('t2').value;
    const d = v0*t + 0.5*a*t*t;
    document.getElementById('resultado').innerText =
      `Distancia = ${d.toFixed(2)} m`;
    updateChart([0, t], [0, d], 'Distancia (m)');
  }
  function simulateMCU() {
    const œâ = +document.getElementById('omega').value;
    const t = +document.getElementById('t3').value;
    const Œ∏ = œâ*t;
    document.getElementById('resultado').innerText =
      `√Ångulo = ${Œ∏.toFixed(2)} rad`;
    updateChart([0, t], [0, Œ∏], '√Ångulo (rad)');
  }
  function simulateMCUV() {
    const œâ0 = +document.getElementById('omega0').value;
    const Œ±  = +document.getElementById('alpha').value;
    const t  = +document.getElementById('t4').value;
    const Œ∏ = œâ0*t + 0.5*Œ±*t*t;
    document.getElementById('resultado').innerText =
      `√Ångulo = ${Œ∏.toFixed(2)} rad`;
    updateChart([0, t], [0, Œ∏], '√Ångulo (rad)');
  }
  function simulateParabolico() {
    const v0 = +document.getElementById('v5').value;
    const Œ∏deg = +document.getElementById('theta').value;
    const t = +document.getElementById('t5').value;
    const Œ∏ = Œ∏deg*Math.PI/180;
    const x = v0*Math.cos(Œ∏)*t;
    const y = v0*Math.sin(Œ∏)*t - 0.5*9.81*t*t;
    document.getElementById('resultado').innerText =
      `x = ${x.toFixed(2)} m, y = ${y.toFixed(2)} m`;
    updateChart([x],[y],'y vs x','scatter');
  }
  function simulateMAS() {
    const A = +document.getElementById('A').value;
    const œâ = +document.getElementById('omega2').value;
    const t = +document.getElementById('t6').value;
    const x = A * Math.cos(œâ*t);
    document.getElementById('resultado').innerText =
      `Posici√≥n = ${x.toFixed(2)} m`;
    updateChart([0,t],[0,x],'Posici√≥n (m)');
  }

  // ===== Animaci√≥n del m√≥vil para MRU =====
  function animateMobile(d, t) {
    const mobile = document.getElementById('mobile');
    const area = document.querySelector('.simulation-area');
    const maxPx = area.clientWidth - mobile.clientWidth;
    const px = Math.min(d/100*maxPx, maxPx);
    mobile.style.transition = `left ${t}s linear`;
    mobile.style.left = px + 'px';
    document.getElementById('sim-area').style.display = 'block';
  }

  // ===== Crear o actualizar gr√°fico =====
  function createChart(type) {
    const ctx = document.getElementById('movementChart').getContext('2d');
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'line',
      data: { labels: [], datasets: [] },
      options: {
        scales: {
          x: { title: { display:true, text:'Tiempo (s)' } },
          y: { title: { display:true, text:'Magnitud' } }
        }
      }
    });
  }
  function updateChart(labels, data, label, mode='line') {
    chart.config.type = mode;
    chart.data.labels = labels;
    chart.data.datasets = [{ label, data, fill:false, borderColor:'#ef6c00', tension:0 }];
    chart.update();
  }

  // ===== Inicializar m√≥dulo por defecto =====
  document.getElementById('movement-select')
    .addEventListener('change', e => loadModule(e.target.value));
  loadModule('mru');
  </script>
</body>
</html>
